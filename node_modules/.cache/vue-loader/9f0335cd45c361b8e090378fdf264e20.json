{"remainingRequest":"/Users/Jiama003/company/kfservices/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jiama003/company/kfservices/src/components/index.vue?vue&type=template&id=47323bf2&scoped=true&","dependencies":[{"path":"/Users/Jiama003/company/kfservices/src/components/index.vue","mtime":1560947090621},{"path":"/Users/Jiama003/company/kfservices/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jiama003/company/kfservices/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/Jiama003/company/kfservices/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jiama003/company/kfservices/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n  <div class=\"main\">\n    <!-- 导航开始 -->\n    <div class=\"nav-bar\">\n      <div class=\"nav-left\">\n        <img  src=\"../assets/kefulogo.jpg\" :onerror=\"errorImgSrc\" alt=\"\">\n        <div>\n        <h3 @click=\"updataMapOverview\">加马——船帮帮客服工作平台</h3>\n        <p>Jiama Service</p>\n        </div>\n      </div>\n      <div class=\"nav-right\">\n        <img :src=\"userInfo.headPic\" :onerror=\"errorImgSrc\" alt=\"\">\n        <div>\n        <p>{{userInfo.nickName}}</p>\n        </div>\n        <button @click=\"workquit\">准备下班 <i class=\"iconfont icon-shangxiaban-copy\"></i> </button>\n      </div>\n    </div>\n    <audio id=\"callout\" src=\"./public/callout.mp3\"></audio>\n    <audio id=\"off\" src=\"./public/off.mp3\"></audio>\n     <!-- 确认下班 dialog-->\n        <!-- <el-dialog\n          :visible.sync=\"dialogVisibleOff\"\n          width=\"30%\"\n          center>\n          <div class=\"dialogVisibleOff\">\n            <div >\n              <i class=\"iconfont icon-guanbi\"></i>\n              <p class=\"guanbi-p\" style=\"color: #ff5f49;\">下班退出</p>\n            </div>\n        <p style=\"margin-top: 50px;margin-bottom: 20px;\">今天已经工作了</p>\n        <p  style=\"font-size: 20px; font-weight: bold; color: black;\">{}小时{}分钟{}秒</p>\n        <button class=\"Off-button\">\n          确认下班\n        </button>\n        <p style=\"font-size: 16px;color: #4ed7d1;\" @click=\"dialogVisibleOff=false\">\n          我点错了，继续努力\n        </p>\n\n      </div>\n    </el-dialog> -->\n    <!-- 咨询刮起确认下班 -->\n     <!-- <el-dialog\n      :visible.sync=\"dialogVisiblereadyOff\"\n      width=\"30%\"\n      center>\n      <div class=\"dialogVisibleOff\">\n        <div >\n          <i class=\"iconfont icon-guanbi\"></i>\n          <p class=\"guanbi-p\" style=\"color:#4cd1cc\">准备下班</p>\n        </div>\n\n        <p style=\"margin-top: 50px;margin-bottom: 20px;\">有效的消息能让我们的工作效率更加提高</p>\n        <p  >点击准备下班将不会再为您介入新的咨询用户</p>\n        <button class=\"Off-button\" style=\"background-color:#4ed7d1\">\n          确认\n        </button>\n        <p style=\"font-size: 16px;color: #4ed7d1;\" @click=\"dialogVisiblereadyOff=false\">\n          我点错了，继续努力\n        </p>\n\n      </div> -->\n    <!-- </el-dialog> -->\n    <!-- 咨询刮起确认下班 -->\n     <el-dialog\n      :visible.sync=\"readyWorkOut\"\n      width=\"30%\"\n      center>\n      <div class=\"dialogVisibleOff\">\n        <div >\n          <i class=\"iconfont icon-guanbi\"></i>\n          <p class=\"guanbi-p\" style=\"color:#ff5f49\">下班退出</p>\n        </div>\n        <p class=\"dialog-p\" style=\"margin-top: 20px;margin-bottom: 20px;\">今天已经工作了</p>\n        <p style=\"font-size: 18px; font-weight: bold; color: black;\">{{duration}}</p>\n\n        <p v-if=\"this.innerLeftList.length>=1\" class=\"dialog-p\" style=\"margin-top: 20px;margin-bottom: 20px;\">当前有{{this.innerLeftList.length}}个咨询对话未结束</p>\n        <p v-if=\"this.innerLeftList.length>=1\" class=\"dialog-p\">您可以选择移交给别的客服进行服务</p>\n        <button v-if=\"this.innerLeftList.length>=1\"  @click=\"transfer\" class=\"Off-button\" style=\"background-color:#4ed7d1; margin-top: 22px;\">\n          移交咨询\n        </button>\n        <button  @click=\"holdout\" class=\"Off-button\" style=\"background-color:#ff5f49;  margin-bottom: 21px;\">\n          确定下班\n        </button>\n        <p style=\"font-size: 16px;color: #4ed7d1;margin-bottom: 10px;\" @click=\"dialogVisiblereadyOff=false\">\n          我点错了，继续努力\n        </p>\n\n      </div>\n    </el-dialog>\n     <!-- 准备下班 -->\n     <el-dialog\n      :visible.sync=\"dialogVisibleTransfer\"\n      width=\"760px\"\n      title='移交给'\n      center>\n      <div class=\"dialogTransfer\">\n        <div v-for=\"(item,index) in TranserList\" :key=\"index\" @click=\"SelectTransfer(item,index)\"> \n          <span>\n            <i class=\"iconfont icon-selected\" v-if=\"Tindex==index\" ></i>\n            <i class=\"iconfont icon-yuan\" v-if=\"Tindex!==index\"></i>\n          </span>\n          <img :src=\"item.headPic\" alt=\"\">\n          <p>{{item.nickName}}</p>\n        </div>\n      </div>\n      <div  class=\"endOrder-button\">\n       <button @click=\"dialogVisibleTransfer=false\">取消</button> <button @click=\"userTransfer\">确认</button>\n     </div>\n    </el-dialog>\n    <!-- 导航结束 -->\n    <!-- inner start -->\n    <div class=\"inner\">\n      <!-- 左边侧栏开始 -->\n    <div class=\"inner-left\">\n      <el-tabs type=\"border-card\" style=\"width: 100%;\" >\n        <el-tab-pane :label=\"currentService\" >\n      <ul>\n        <li v-for=\"(item,idx) in innerLeftList\" :key = idx  @click=\"getMessageInfo(item,idx,'start')\" style=\"\">\n          <div class=\"inner-left-li-list\"  :class=\"idx==index? 'messageListStyle' : ' '\">\n\n            <img :src=\"item.user_avatar\" alt=\"\">\n            <div>\n                <p >{{item.user_name}}</p>\n                <span>{{item.start_time | timeFormat}}</span>\n            </div>\n            <div class=\"tip\" v-if=\"item.tip>0\">{{item.tip}}</div>\n            <div class=\"leftListCover\" v-if=\"item.leftListCover\">\n              当前服务单已被用户结束\n            </div>\n          </div>\n        </li>\n      </ul>\n    </el-tab-pane>\n    <el-tab-pane label=\"已结束服务\">\n      <ul>\n        <li v-for=\"(item,endidx) in endOrderList\" :key = endidx @click=\"getMessageInfo(item,endidx,'end')\">\n          <div class=\"inner-left-li-list\"  :class=\"endidx==endindex? 'messageListStyle' : ' '\" >\n            <img :src=\"item.user_avatar\" alt=\"\">\n            <div >\n                <p >{{item.user_name}}</p>\n                <span>5分钟前</span>\n            </div>\n          </div>\n        </li>\n      </ul>\n      </el-tab-pane>\n      </el-tabs>\n    </div>\n    <!-- 左边侧栏结束 -->\n    <!-- 地图开始 -->\n    <div class=\"locationSign\">\n      位置: {全国}\n    </div>\n    <div class=\"SwitchPage\" @click=\"SwitchPage\" v-show='containerVisible2'>\n      点击进入抢单页面\n    </div>\n    <div class=\"seachLocation\" v-show='containerVisible2'>\n      <div class=\"\">\n      <i class=\"iconfont icon-iconfontzhizuobiaozhun22\"></i> <input type=\"text\" id=\"suggestId\" size=\"20\" placeholder=\"用户附近搜索\" style=\"width:150px;\" />\n      </div>\n      <div id=\"searchResultPanel\" style=\"border:1px solid #C0C0C0;width:150px;height:auto; display:none;\"></div>\n    </div>\n    <div v-show='containerVisible' id=\"container\">\n    </div>\n    <div v-show='containerVisible2' id=\"container2\">\n    </div>\n    <!-- 地图结束 -->\n    <!-- 结束咨询开始 end order -->\n    <el-dialog\n          class=\"endOrder\"\n          :visible.sync=\"dialogVisibleEndOrder\"\n          width=\"38%\"\n          title=\"结束咨询\"\n          center>\n         <div  class=\"endOrder-time\">\n          <div >\n            <p>咨询时间</p>\n            <p class=\"time bg\">{{startTime}}</p>\n          </div>\n          <div >\n            <p>结束时间</p>\n            <p class=\"time bg\">{{endTime}}</p>\n          </div>\n          <div >\n            <p>服务时长</p>\n            <p class=\"time\">{{duration}}</p>\n          </div>\n         </div>\n         <!-- 地址 -->\n         <div  class=\"endOrder-adress\">\n           <p>咨询地址</p>\n           <div v-if=\"edit==0\" class=\"bg text\">请输入地址</div>\n           <input v-else-if=\"edit==1\" class=\"bg\" type=\"text\" placeholder=\"请输入地址\" v-model=\"inputEndOrderAdress\">\n            <i class=\"iconfont icon-iconfront-\" @click=\"edit=1\"></i>\n         </div>\n          <!-- 问题描述 -->\n         <div  class=\"endOrder-desc\">\n           <p>咨询问题描述</p>\n          <el-input\n          type=\"textarea\" class=\"bg\"\n          :autosize=\"{ minRows: 5, maxRows: 20}\"\n          placeholder=\"请输入内容\"\n          v-model=\"textareaEndOrderDesc\">\n        </el-input>\n         </div>\n         <div  class=\"endOrder-button\">\n           <button @click=\"dialogVisibleEndOrder=false\">取消</button> <button @click=\"EndOrder\">确认</button>\n         </div>\n        </el-dialog>\n    <!--  呼叫列表弹出  -->\n    <div v-if=\"callShow\" class=\"callListDialog\">\n        <div class=\"userListBox\">\n            <div class=\"header\">\n                选择呼叫的人员\n                <i @click=\"hiddenDialog\" class=\"el-icon-close\"></i>\n            </div>\n<!--            v-if=\"userInfo.userId !== item.userId\"-->\n            <ul v-if=\"callUserList.length !== 0\">\n                <li @click=\"ischeck(item)\" v-for=\"(item,index) in callUserList\" :key=\"index\">\n                    <i v-if=\"!item.check\" class=\"iconfont icon-weigouxuan\"></i>\n                    <i v-if=\"item.check\" class=\"iconfont icon-gouxuan-xuanzhong-yuankuang\"></i>\n                    <img :src=\"item.headPic\" alt=\"\">\n                    <span>{{item.nickName}}</span>\n                </li>\n            </ul>\n            <div v-if=\"callUserList.length !== 0\" class=\"buttonBox\">\n                <!--          <el-button @click=\"allCheck\">选择全部</el-button>-->\n                <el-button @click=\"allNoCheck\" type=\"info\">全部取消</el-button>\n                <el-button @click=\"startCall\" type=\"primary\">开始呼叫 ({{clickItemUserList.length}}人)</el-button>\n            </div>\n            <div style=\"width: 100%; text-align: center; height: 300px; line-height: 300px;letter-spacing: 3px; font-size: 22px; color: #ccc\" v-if=\"callUserList.length === 0\">无在线人员</div>\n        </div>\n    </div>\n        <!--  个人信息弹出  -->\n    <div v-if=\"infoShow\" class=\"callListDialog infoDialog\">\n            <div class=\"infoBox\">\n                <div v-if=\"clickItemUserList.length === 1\" class=\"info\">\n                    <img :src=\"clickItemUserList[0].headPic\" alt=\"\">\n                    <span>{{clickItemUserList[0].nickName}}</span>\n                </div>\n                <ul v-if=\"clickItemUserList.length > 1\">\n                    <li v-for=\"(item,index) in clickItemUserList\" :key=\"index\">\n                        <img :src=\"item.headPic\" alt=\"\">\n                        <span>{{item.nickName}}</span>\n                    </li>\n                </ul>\n                <div class=\"textarea\">\n                    <el-input\n                            type=\"textarea\"\n                            :rows=\"3\"\n                            :maxlength = \"72\"\n                            resize = \"none\"\n                            placeholder=\"请输入呼叫理由(最多72个字)\"\n                            v-model=\"textarea\">\n                    </el-input>\n                    <el-button @click=\"sureCall\" type=\"primary\">确认呼叫</el-button>\n                    <p @click=\"infoShow = false\">我点错了</p>\n                </div>\n            </div>\n        </div>\n    <!--  个人信息弹出  -->\n    <div v-if=\"roomAdminShow\" class=\"callListDialog roomDialog\">\n        <div class=\"infoBox\">\n            <div class=\"info\">\n                <img :src=\"clickItemUser.headPic\" alt=\"\">\n                <span>{{clickItemUser.nickName}}</span>\n            </div>\n            <div class=\"textarea\">\n                <el-button @click=\"kickoutUser\" type=\"primary\">踢出通话</el-button>\n                <p @click=\"roomAdminShow = false\">关闭</p>\n            </div>\n        </div>\n    </div>\n    <!--  在线呼叫通话页面弹出  -->\n    <div v-if=\"onlineCallShow\" class=\"onlineCallDialog\">\n        <img class=\"bg\" src=\"../assets/kefulogo.jpg\" alt=\"\">\n        <div class=\"title\">在线呼叫 {{callList.length}}人</div>\n        <ul class=\"clearfix\">\n            <li @click=\"toAdminRoom(item)\" v-for=\"(item,index) in callList\" :key=\"index\">\n                <div v-if=\"!item.online\"><i class=\"el-icon-more\"></i></div>\n                <img :src=\"item.headPic\" alt=\"\">\n                <span :class=\"!item.online?'ccc': ''\">{{item.nickName}}</span>\n            </li><li v-if=\"callList.length < 9\" @click=\"addCallUser\" class=\"add\">\n            <i class=\"el-icon-circle-plus-outline\"></i>\n            <span>添加</span>\n        </li>\n        </ul>\n        <div id=\"ado\"></div>\n        <div class=\"btn\">\n            <span @click=\"leaveRoom\"><i class=\"iconfont iconguaduan\"></i></span>\n            <i @click=\"toMetud(true)\" v-if=\"!metud\" class=\"el-icon-microphone\"></i>\n            <i @click=\"toMetud(false)\" v-if=\"metud\" class=\"el-icon-turn-off-microphone\"></i>\n        </div>\n    </div>\n    <!--结束咨询结束  -->\n    <!-- 内容右侧核心功能开始 -->\n       <el-dialog\n      :visible.sync=\"WxAcodeVisible\"\n      width=\"40%\"\n      title='添加协助人员'\n      center>\n      <div class=\"WxAcodeDiv\" style=\"text-align: center;\">\n          <div>\n            微信扫描下方二维码，分享协助邀请给你的微信好友，邀请好友进来协助。\n          </div>\n          <img :src=\"WxAcode\" />\n        </div>\n    </el-dialog>\n    <div class=\"inner-right\" v-show=\"innerRightVisible\">\n      <div class=\"inner-right-nav\">\n        <span class=\"inner-right-nav-span\">当前服务</span>\n        <div style=\"width:67%;overflow: hidden;\">\n        <img v-for=\"(item,index) in innerRightOrderMember\" :key = \"index\" :src=\"item.headPic\" :onerror=\"errorImgSrc\" :title=\"item.nickName\">\n        </div>\n         <i class=\"iconfont icon-jiahao\" @click=\"getWxAcode\" v-show=\"this.currentServiceInfo.option == 'start'\"></i>\n        <p class=\"inner-right-nav-p\" v-show=\"this.currentServiceInfo.option == 'start'\" @click='EndOrderStart'>\n          结束咨询\n        </p>\n      </div>\n      <!-- socket 消息列表 -->\n      <div class=\"inner-right-content\" id=\"socketMessageList\" >\n        <p class=\"loadingStyle\" v-if=\"loading\">\n          <img :src=\"loadingImg\" alt=\"\" >\n        </p>\n        <p class=\"loadingStyle\" v-if=\"noMore\">没有更多了</p>\n        <ul id=\"socketMessageListUl\"  class=\"list\"> \n          <li v-for=\"(item,index) in chatMessageList\" :key ='index'  class=\"list-item\">\n              <!-- 普通消息 -->\n              <div v-if=\"item.msgType=='groupText' ||  item.msgType=='groupPic' ||  item.msgType=='groupVoice' || item.msgType=='groupMap'\" :class=\"messageStyle(item.accountID)\" >\n                <img class=\"message-item-pic\" :src=\"item.msgObj.sh\" alt=\"\" >\n                <div data-v-79408788=\"\" class=\"flex message-box\">\n                  <div>\n                    <div class=\"message-box-top\"><span class=\"name\">{{item.msgObj.sn}}</span> <span class=\"day\">{{item.msgTime | timeFormat}}</span> </div>\n                    <div class=\"bubble_cont basi left\">\n                      <!-- 消息文本 -->\n                      <div v-if=\"item.msgType=='groupText'\" class=\"card1\">\n                        <p class=\"puretext font14 c333 wordbreak\" style=\"height: auto;\">{{item.msgObj.text}}</p>\n                      </div>\n                      <!-- 音频消息 -->\n                      <div v-else-if=\"item.msgType=='groupVoice'\" class=\"card1\">\n                        <video controls  name=\"media\">\n                        <source type=\"audio/aac\" :src=\"item.msgObj.vu[0].url\"/>\n                        </video>\n                      </div>\n                      <!-- 地图消息 -->\n                      <div v-else-if=\"item.msgType=='groupMap'\" class=\"card1\">\n                        <!-- 创建地图定位 -->\n                        <div :id=\"'groupMap'+item.msgTime\" class=\"groupMap\">\n                        </div>\n                      </div>\n                      <!-- 图片消息 -->\n                      <div v-else-if=\"item.msgType=='groupPic'\" accept = \"image/*\" class=\"card1\">\n                        <img :src=\"item.msgObj.url\"  alt=\"\">\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            </div>\n            <!-- 系统消息 -->\n            <p class=\"systemMessage\" v-else-if=\"item.msgType=='kfNotice' ||  item.msgType=='kfWelcome' ||  item.msgType=='kfEnd'\">\n                {{item.msgObj.content}}\n            </p>\n            <p class=\"systemMessage\" v-else-if=\"item.msgType=='groupEnd'\">\n                {{item.msgObj.content}}\n            </p>\n            <div class=\"userMessage\" v-else-if=\"item.msgType=='userState'\">\n                <p v-if=\"item.msgObj.st==1\">\n                 {{item.msgTime | timeFormat}} {{item.msgObj.un}}上线了\n                </p>\n                <p v-if=\"item.msgObj.st==0\">\n                 {{item.msgTime | timeFormat}} {{item.msgObj.un}}下线了\n                </p>\n                <p v-if=\"item.msgObj.st==-1\">\n                 {{item.msgTime | timeFormat}} {{item.msgObj.un}}离开群组\n                </p>\n            </div>\n          </li>\n        </ul>\n      </div>\n      <!-- 消息列表结束 -->\n      <!-- 消息输入 -->\n      <div class=\"inner-right-input\">\n       <el-input\n       @keydown.enter.native=\"sendMessageInfo(socketMessageText,'groupText')\"\n          type=\"textarea\"\n          :autosize=\"{ minRows: 5, maxRows: 5}\"\n          placeholder=\"请输入聊天内容\"\n          v-model=\"socketMessageText\">\n        </el-input>\n        <div class=\"inner-right-input-buttom\">\n          <div class=\"inner-right-input-buttom-left\">\n            <!-- 常用语 -->\n            <el-popover\n              ref=\"popover5\"\n              placement=\"top\"\n              v-model=\"visible2\">\n              <div class=\"CommonWord\">\n                  <p class=\"CommonTitle\">常用话</p>\n                <ul >\n                  <li v-for=\"(item,index) in this.commonWordList\" :key ='index'>\n                   <div class=\"content\">{{item}}</div> <div class=\"send\" @click=\"sendMessageInfo(item,'groupText')\">发送</div>\n                  </li>\n                </ul>\n              </div>\n            </el-popover>\n            <div v-popover:popover5>常用语</div>\n            <!-- 常见问题 -->\n            <el-popover\n              ref=\"popover4\"\n              placement=\"top\"\n              v-model=\"visible3\">\n              <div class=\"CommonWord\">\n                <p class=\"CommonTitle\">常见问题</p>\n                <ul>\n                  <li v-for=\"(item,index) in this.commonProblemList\" :key='index'>\n                   <div class=\"content\">\n                     {{item}}\n                    </div>\n                    <div class=\"send\" @click=\"sendMessageInfo(item,'groupText')\">\n                       发送\n                    </div>\n                  </li>\n                </ul>\n              </div>\n            </el-popover>\n            <div class=\"commonProblem\" v-popover:popover4>常见问题</div>\n            <div @click=\"sendLocation\">发送位置</div>\n          </div>\n          <div class=\"bottom-right\">\n            <div class=\"inner-right-input-buttom-right\">\n              <input type=\"file\" class=\"uploadInput\" id='uploadInput' accept=\"image/*\"  @change=\"sendImg\">\n              <i class=\"iconfont icon-tupian\"></i>\n                <i @click=\"toCall\" class=\"iconfont icon-lianxi1\"></i>\n            <i class=\"iconfont icon-yanjizhushou-shangchuan_maikefeng\" @click=\"Recording('start')\"> </i>\n            </div>\n            <div class=\"sendMessage button\" @click=\"sendMessageInfo(socketMessageText,'groupText')\" >发送</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 右侧核心功能结束 -->\n    <!-- inner end -->\n    </div>\n  </div>\n",null]}