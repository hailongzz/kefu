{"remainingRequest":"/Users/Jiama003/company/kfservices/node_modules/babel-loader/lib/index.js!/Users/Jiama003/company/kfservices/node_modules/eslint-loader/index.js??ref--13-0!/Users/Jiama003/company/kfservices/src/assets/js/utils.js","dependencies":[{"path":"/Users/Jiama003/company/kfservices/src/assets/js/utils.js","mtime":1560857951727},{"path":"/Users/Jiama003/company/kfservices/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Jiama003/company/kfservices/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Jiama003/company/kfservices/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.typed.uint32-array\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.to-string\";\n\nfunction formatTime(t) {\n  var r = t.getFullYear(),\n      e = t.getMonth() + 1,\n      a = t.getDate(),\n      o = t.getHours(),\n      n = t.getMinutes(),\n      m = t.getSeconds();\n  return [r, e, a].map(formatNumber).join(\"/\") + \" \" + [o, n, m].map(formatNumber).join(\":\");\n}\n\nfunction formatData(t) {\n  var r = t.getFullYear(),\n      e = t.getMonth() + 1,\n      a = t.getDate();\n  t.getHours(), t.getMinutes(), t.getSeconds();\n  return [r, e, a].map(formatNumber).join(\"-\") + ' ' + t.getHours() + ':' + t.getMinutes() + ':' + t.getSeconds();\n}\n\nfunction formatNumber(t) {\n  return (t = t.toString())[1] ? t : \"0\" + t;\n}\n\nfunction objectToUrlParams(t) {\n  var r = \"\";\n\n  for (var e in t) {\n    r += \"&\" + e + \"=\" + t[e];\n  }\n\n  return r.substr(1);\n}\n\nfunction gainPhone(params) {\n  //获取验签\n  var Obj = {};\n  Obj = Object.assign(Obj, params, {\n    secret: \"6C928F35692B4FFB90A26B16E0127FBCAC699AFF\"\n  });\n  var array = []; //字典排序\n\n  for (var key in Obj) {\n    array.push(key);\n  }\n\n  array.sort();\n  var paramArray = []; //拼接字符串\n\n  for (var index in array) {\n    var _key = array[index];\n    var value = Obj[_key];\n    paramArray.push(_key + '' + value);\n  } //sha1化\n\n\n  var source = paramArray.join('');\n  return sha1(source).toUpperCase(); // return sha1\n  //   .createMethod('sha1')\n  //   .update(source)\n  //   .digest('hex')\n  //   .toUpperCase()\n}\n\nfunction compressPictures(bath64) {\n  // 压缩图片需要的一些元素和对象\n  var img = new Image();\n  img.src = bath64; // 缩放图片需要的canvas\n\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d'); // base64地址图片加载完毕后\n\n  img.onload = function () {\n    // 图片原始尺寸\n    var originWidth = this.width;\n    var originHeight = this.height; // 最大尺寸限制\n\n    var maxWidth = 300,\n        maxHeight = 300; // 目标尺寸\n\n    var targetWidth = originWidth,\n        targetHeight = originHeight; // 图片尺寸超过300x300的限制\n\n    if (originWidth > maxWidth || originHeight > maxHeight) {\n      if (originWidth / originHeight > maxWidth / maxHeight) {\n        targetWidth = maxWidth;\n        targetHeight = Math.round(maxWidth * (originHeight / originWidth));\n      } else {\n        targetHeight = maxHeight;\n        targetWidth = Math.round(maxHeight * (originWidth / originHeight));\n      }\n    } // canvas对图片进行缩放\n\n\n    canvas.width = targetWidth;\n    canvas.height = targetHeight; // 清除画布\n\n    context.clearRect(0, 0, targetWidth, targetHeight); // 图片压缩\n\n    context.drawImage(img, 0, 0, targetWidth, targetHeight);\n    var type = 'image/jpeg'; //将canvas元素中的图像转变为DataURL\n\n    var dataurl = canvas.toDataURL(type);\n    console.log(dataurl); //抽取DataURL中的数据部分，从Base64格式转换为二进制格式\n\n    var bin = atob(dataurl.split(',')[1]); //创建空的Uint8Array\n\n    var buffer = new Uint8Array(bin.length); //将图像数据逐字节放入Uint8Array中\n\n    for (var i = 0; i < bin.length; i++) {\n      buffer[i] = bin.charCodeAt(i);\n    } //利用Uint8Array创建Blob对象\n\n\n    var blob = new Blob([buffer.buffer], {\n      type: type\n    });\n    var url = window.URL.createObjectURL(blob);\n    console.log(url);\n  };\n} //压缩图片\n\n/**\n* 获取url ?后面的传值\n*/\n\n\nexport var getQuery = function getQuery(key) {\n  var params = window.location.href.split('?')[1] || \"\";\n  var query = {};\n\n  if (params) {\n    params.split('&').forEach(function (item) {\n      var queryValue = item.split('=');\n      query.queryValue[0] = queryValue[1];\n    });\n  }\n\n  var rst = query[key];\n  return rst ? window.decodeURIComponent(query[key]) : \"\";\n};\nexport default {\n  gainPhone: gainPhone,\n  formatTime: formatTime,\n  objectToUrlParams: objectToUrlParams,\n  formatData: formatData,\n  compressPictures: compressPictures,\n  scene_decode: function scene_decode(t) {\n    var r = (t + \"\").split(\",\"),\n        e = {};\n\n    for (var a in r) {\n      var o = r[a].split(\":\");\n      0 < o.length && o[0] && (e[o[0]] = o[1] || null);\n    }\n\n    return e;\n  }\n};\n\nfunction sha1(s) {\n  var data = new Uint8Array(encodeUTF8(s));\n  var i, j, t;\n  var l = (data.length + 8 >>> 6 << 4) + 16,\n      s = new Uint8Array(l << 2);\n  s.set(new Uint8Array(data.buffer)), s = new Uint32Array(s.buffer);\n\n  for (t = new DataView(s.buffer), i = 0; i < l; i++) {\n    s[i] = t.getUint32(i << 2);\n  }\n\n  s[data.length >> 2] |= 0x80 << 24 - (data.length & 3) * 8;\n  s[l - 1] = data.length << 3;\n\n  var w = [],\n      f = [function () {\n    return m[1] & m[2] | ~m[1] & m[3];\n  }, function () {\n    return m[1] ^ m[2] ^ m[3];\n  }, function () {\n    return m[1] & m[2] | m[1] & m[3] | m[2] & m[3];\n  }, function () {\n    return m[1] ^ m[2] ^ m[3];\n  }],\n      rol = function rol(n, c) {\n    return n << c | n >>> 32 - c;\n  },\n      k = [1518500249, 1859775393, -1894007588, -899497514],\n      m = [1732584193, -271733879, null, null, -1009589776];\n\n  m[2] = ~m[0], m[3] = ~m[1];\n\n  for (i = 0; i < s.length; i += 16) {\n    var o = m.slice(0);\n\n    for (j = 0; j < 80; j++) {\n      w[j] = j < 16 ? s[i + j] : rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1), t = rol(m[0], 5) + f[j / 20 | 0]() + m[4] + w[j] + k[j / 20 | 0] | 0, m[1] = rol(m[1], 30), m.pop(), m.unshift(t);\n    }\n\n    for (j = 0; j < 5; j++) {\n      m[j] = m[j] + o[j] | 0;\n    }\n  }\n\n  ;\n  t = new DataView(new Uint32Array(m).buffer);\n\n  for (var i = 0; i < 5; i++) {\n    m[i] = t.getUint32(i << 2);\n  }\n\n  var hex = Array.prototype.map.call(new Uint8Array(new Uint32Array(m).buffer), function (e) {\n    return (e < 16 ? \"0\" : \"\") + e.toString(16);\n  }).join(\"\");\n  return hex;\n}\n\n;\n\nfunction encodeUTF8(s) {\n  var i,\n      r = [],\n      c,\n      x;\n\n  for (i = 0; i < s.length; i++) {\n    if ((c = s.charCodeAt(i)) < 0x80) r.push(c);else if (c < 0x800) r.push(0xC0 + (c >> 6 & 0x1F), 0x80 + (c & 0x3F));else {\n      if ((x = c ^ 0xD800) >> 10 == 0) //对四字节UTF-16转换为Unicode\n        c = (x << 10) + (s.charCodeAt(++i) ^ 0xDC00) + 0x10000, r.push(0xF0 + (c >> 18 & 0x7), 0x80 + (c >> 12 & 0x3F));else r.push(0xE0 + (c >> 12 & 0xF));\n      r.push(0x80 + (c >> 6 & 0x3F), 0x80 + (c & 0x3F));\n    }\n  }\n\n  ;\n  return r;\n}\n\n;",{"version":3,"sources":["/Users/Jiama003/company/kfservices/src/assets/js/utils.js"],"names":["formatTime","t","r","getFullYear","e","getMonth","a","getDate","o","getHours","n","getMinutes","m","getSeconds","map","formatNumber","join","formatData","toString","objectToUrlParams","substr","gainPhone","params","Obj","Object","assign","secret","array","key","push","sort","paramArray","index","value","source","sha1","toUpperCase","compressPictures","bath64","img","Image","src","canvas","document","createElement","context","getContext","onload","originWidth","width","originHeight","height","maxWidth","maxHeight","targetWidth","targetHeight","Math","round","clearRect","drawImage","type","dataurl","toDataURL","console","log","bin","atob","split","buffer","Uint8Array","length","i","charCodeAt","blob","Blob","url","window","URL","createObjectURL","getQuery","location","href","query","forEach","item","queryValue","rst","decodeURIComponent","scene_decode","s","data","encodeUTF8","j","l","set","Uint32Array","DataView","getUint32","w","f","rol","c","k","slice","pop","unshift","hex","Array","prototype","call","x"],"mappings":"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","sourcesContent":["function formatTime(t) {\n    var r = t.getFullYear(),\n      e = t.getMonth() + 1,\n      a = t.getDate(),\n      o = t.getHours(),\n      n = t.getMinutes(),\n      m = t.getSeconds();\n    return [r, e, a].map(formatNumber).join(\"/\") + \" \" + [o, n, m].map(formatNumber).join(\":\");\n  }\n  \n  function formatData(t) {\n    var r = t.getFullYear(),\n      e = t.getMonth() + 1,\n      a = t.getDate();\n    t.getHours(), t.getMinutes(), t.getSeconds();\n    return [r, e, a].map(formatNumber).join(\"-\") + ' ' +t.getHours()+':'+t.getMinutes()+':'+t.getSeconds();\n  }\n  \n  function formatNumber(t) {\n    return (t = t.toString())[1] ? t : \"0\" + t;\n  }\n  \n  function objectToUrlParams(t) {\n    var r = \"\";\n    for (var e in t) r += \"&\" + e + \"=\" + t[e];\n    return r.substr(1);\n  }\n  \n  function gainPhone(params) { //获取验签\n  \n    let Obj = {}\n  \n    Obj = Object.assign(Obj, params, {\n      secret: \"6C928F35692B4FFB90A26B16E0127FBCAC699AFF\"\n    })\n    let array = []\n    //字典排序\n    for (let key in Obj) {\n      array.push(key)\n    }\n    array.sort()\n    let paramArray = []\n    //拼接字符串\n    for (let index in array) {\n      let key = array[index]\n      let value = Obj[key]\n  \n      paramArray.push(key + '' + value)\n    }\n    //sha1化\n    let source = paramArray.join('')\n    return sha1(source).toUpperCase();\n    // return sha1\n    //   .createMethod('sha1')\n    //   .update(source)\n    //   .digest('hex')\n    //   .toUpperCase()\n  }\n  function compressPictures(bath64){\n    // 压缩图片需要的一些元素和对象\n        let  img = new Image();\n        img.src = bath64\n        // 缩放图片需要的canvas\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        // base64地址图片加载完毕后\n        img.onload = function () {\n            // 图片原始尺寸\n            var originWidth = this.width;\n            var originHeight = this.height;\n            // 最大尺寸限制\n            var maxWidth = 300, maxHeight = 300;\n            // 目标尺寸\n            var targetWidth = originWidth, targetHeight = originHeight;\n            // 图片尺寸超过300x300的限制\n            if (originWidth > maxWidth || originHeight > maxHeight) {\n                if (originWidth / originHeight > maxWidth / maxHeight) {\n                    targetWidth = maxWidth;\n                    targetHeight = Math.round(maxWidth * (originHeight / originWidth));\n                } else {\n                    targetHeight = maxHeight;\n                    targetWidth = Math.round(maxHeight * (originWidth / originHeight));\n                }\n            }\n                \n            // canvas对图片进行缩放\n            canvas.width = targetWidth;\n            canvas.height = targetHeight;\n            // 清除画布\n            context.clearRect(0, 0, targetWidth, targetHeight);\n            // 图片压缩\n            context.drawImage(img, 0, 0, targetWidth, targetHeight);\n            var type = 'image/jpeg';\n            //将canvas元素中的图像转变为DataURL\n            var dataurl = canvas.toDataURL(type);\n            console.log(dataurl)\n            //抽取DataURL中的数据部分，从Base64格式转换为二进制格式\n            var bin = atob(dataurl.split(',')[1]);\n            //创建空的Uint8Array\n            var buffer = new Uint8Array(bin.length);\n            //将图像数据逐字节放入Uint8Array中\n            for (var i = 0; i < bin.length; i++) {\n                buffer[i] = bin.charCodeAt(i);\n            }\n            //利用Uint8Array创建Blob对象\n            var blob = new Blob([buffer.buffer], {type: type});\n            var url = window.URL.createObjectURL(blob);\n            console.log(url)\n        };\n    }\n//压缩图片\n\n  /**\n * 获取url ?后面的传值\n */\nexport const getQuery = (key)=>{\n  const params = window.location.href.split('?')[1] || \"\"\n  const query = {}\n  if(params){\n      params.split('&').forEach((item)=>{\n          let queryValue = item.split('=')\n          query.queryValue[0] = queryValue[1]\n      })\n  }\n  const rst = query[key]\n  return rst ? window.decodeURIComponent(query[key]) : \"\"\n}\nexport default {\n    gainPhone: gainPhone,\n    formatTime: formatTime,\n    objectToUrlParams: objectToUrlParams,\n    formatData: formatData,\n    compressPictures:compressPictures,\n    scene_decode: function(t) {\n      var r = (t + \"\").split(\",\"),\n        e = {};\n      for (var a in r) {\n        var o = r[a].split(\":\");\n        0 < o.length && o[0] && (e[o[0]] = o[1] || null);\n      }\n      return e;\n    }\n  };\n  \n  function sha1(s) {\n    var data = new Uint8Array(encodeUTF8(s))\n    var i, j, t;\n    var l = ((data.length + 8) >>> 6 << 4) + 16, s = new Uint8Array(l << 2);\n    s.set(new Uint8Array(data.buffer)), s = new Uint32Array(s.buffer);\n    for (t = new DataView(s.buffer), i = 0; i < l; i++)s[i] = t.getUint32(i << 2);\n    s[data.length >> 2] |= 0x80 << (24 - (data.length & 3) * 8);\n    s[l - 1] = data.length << 3;\n    var w = [], f = [\n      function () { return m[1] & m[2] | ~m[1] & m[3]; },\n      function () { return m[1] ^ m[2] ^ m[3]; },\n      function () { return m[1] & m[2] | m[1] & m[3] | m[2] & m[3]; },\n      function () { return m[1] ^ m[2] ^ m[3]; }\n    ], rol = function (n, c) { return n << c | n >>> (32 - c); },\n      k = [1518500249, 1859775393, -1894007588, -899497514],\n      m = [1732584193, -271733879, null, null, -1009589776];\n    m[2] = ~m[0], m[3] = ~m[1];\n    for (i = 0; i < s.length; i += 16) {\n      var o = m.slice(0);\n      for (j = 0; j < 80; j++)\n        w[j] = j < 16 ? s[i + j] : rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1),\n          t = rol(m[0], 5) + f[j / 20 | 0]() + m[4] + w[j] + k[j / 20 | 0] | 0,\n          m[1] = rol(m[1], 30), m.pop(), m.unshift(t);\n      for (j = 0; j < 5; j++)m[j] = m[j] + o[j] | 0;\n    };\n    t = new DataView(new Uint32Array(m).buffer);\n    for (var i = 0; i < 5; i++)m[i] = t.getUint32(i << 2);\n  \n    var hex = Array.prototype.map.call(new Uint8Array(new Uint32Array(m).buffer), function (e) {\n      return (e < 16 ? \"0\" : \"\") + e.toString(16);\n    }).join(\"\");\n  \n    return hex;\n  };\n  \n  function encodeUTF8(s) {\n    var i, r = [], c, x;\n    for (i = 0; i < s.length; i++)\n      if ((c = s.charCodeAt(i)) < 0x80) r.push(c);\n      else if (c < 0x800) r.push(0xC0 + (c >> 6 & 0x1F), 0x80 + (c & 0x3F));\n      else {\n        if ((x = c ^ 0xD800) >> 10 == 0) //对四字节UTF-16转换为Unicode\n          c = (x << 10) + (s.charCodeAt(++i) ^ 0xDC00) + 0x10000,\n            r.push(0xF0 + (c >> 18 & 0x7), 0x80 + (c >> 12 & 0x3F));\n        else r.push(0xE0 + (c >> 12 & 0xF));\n        r.push(0x80 + (c >> 6 & 0x3F), 0x80 + (c & 0x3F));\n      };\n    return r;\n  };"]}]}